<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Gerador Avançado de Dorks — Segurança</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin:0; padding:20px;
      background:#1a1a1a;
      color:#e5e5e5;
      line-height:1.6;
    }
    header, main, footer {
      background:#262626;
      padding:20px;
      border-radius:8px;
      margin-bottom:20px;
      box-shadow:0 2px 6px rgba(0,0,0,0.5);
    }
    h1 { text-align:center; color:#4da3ff; margin-bottom:10px; }
    h2 { color:#56d364; margin-top:0; }
    label { font-weight:bold; margin-bottom:6px; display:block; }
    input, select, textarea {
      width:100%;
      padding:10px;
      border:1px solid #444;
      border-radius:6px;
      background:#111;
      color:#eee;
      font-size:1rem;
    }
    button {
      background:#4da3ff;
      color:#fff;
      padding:10px 16px;
      border:none;
      border-radius:6px;
      cursor:pointer;
      font-size:1rem;
      font-weight:bold;
    }
    button:hover { background:#3685d6; }
    #dorkDisplay {
      background:#111;
      padding:12px;
      border-radius:6px;
      border:1px solid #444;
      min-height:80px;
      white-space:pre-wrap;
      word-break:break-word;
      color:#0f0;
      font-family:monospace;
    }
    #dorkPreview {
      width:100%;
      min-height:80px;
      background:#111;
      border:1px solid #444;
      border-radius:6px;
      color:#0f0;
      font-family:monospace;
      padding:10px;
    }
    .form-group { margin-bottom:15px; }
    footer { text-align:center; font-size:0.9rem; color:#aaa; }
    .subfields { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
  </style>
</head>
<body>
  <header>
    <h1>Gerador Avançado de Dorks</h1>
    <p>Construído para testes de segurança em SQL, e-mails e câmeras IP.</p>
  </header>

  <main>
    <form id="dorkForm">
      <!-- PRESETS -->
      <div class="form-group">
        <label for="presets">Presets Clássicos</label>
        <select id="presets">
          <option value="">-- Selecione --</option>
          <option value='intitle:"index of" (mp3|wmv) "beatles"'>Index of MP3 Beatles</option>
          <option value='filetype:sql "password"'>SQL Dump Passwords</option>
          <option value='"@gmail.com" filetype:xls'>E-mails Gmail em planilhas</option>
          <option value='inurl:"view.shtml" "Network Camera"'>Câmeras IP abertas</option>
          <option value='intitle:"phpMyAdmin" "Welcome to phpMyAdmin"'>Painéis phpMyAdmin</option>
        </select>
      </div>

      <!-- INTITLE -->
      <div class="form-group">
        <label>Intitle (sempre começa com <code>intitle:"index of"</code>)</label>
        <div class="subfields">
          <input type="text" id="intitleText" placeholder='Texto, ex: "beatles"'>
          <input type="text" id="intitleTypes" placeholder='Tipos, ex: mp3|wmv|mp4'>
        </div>
        <div class="subfields" style="margin-top:10px;">
          <input type="text" id="intitleExtra" placeholder='Extras, ex: conf, sql'>
          <input type="text" id="intitleBar" value="/" placeholder="Padrão barra /">
        </div>
      </div>

      <!-- SQL -->
      <div class="form-group">
        <label for="sqlKeywords">SQL Keywords</label>
        <input type="text" id="sqlKeywords" placeholder='Ex: "php?id=" ou "select * from"'>
      </div>

      <!-- EMAIL -->
      <div class="form-group">
        <label for="emailKeywords">E-mails</label>
        <input type="text" id="emailKeywords" placeholder='Ex: "@gmail.com" filetype:xls'>
      </div>

      <!-- CÂMERAS -->
      <div class="form-group">
        <label for="cameraKeywords">Câmeras IP</label>
        <input type="text" id="cameraKeywords" placeholder='Ex: inurl:"view.shtml"'>
      </div>

      <!-- OUTROS CAMPOS -->
      <div class="form-group">
        <label for="filetype">filetype:</label>
        <select id="filetype">
          <option value="">-- Selecione --</option>
          <option value="pdf">pdf</option>
          <option value="mp3">mp3</option>
          <option value="mp4">mp4</option>
          <option value="avi">avi</option>
          <option value="zip">zip</option>
          <option value="rar">rar</option>
          <option value="docx">docx</option>
          <option value="xlsx">xlsx</option>
          <option value="sql">sql</option>
        </select>
      </div>

      <div class="form-group">
        <label for="inurl">inurl:</label>
        <input type="text" id="inurl" placeholder="Ex: admin, login">
      </div>

      <button type="submit">Gerar Dork</button>
    </form>

    <section style="margin-top:20px;">
      <h2>Pré-visualização</h2>
      <div id="dorkDisplay"></div>
      <textarea id="dorkPreview" readonly></textarea>
      <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
        <button id="copyBtn">Copiar</button>
        <button id="openBtn">Abrir no Google</button>
      </div>
    </section>
  </main>

  <footer>
    <p>⚠️ Use apenas em ambientes autorizados para testes de segurança.</p>
  </footer>

  <script>
    const form = document.getElementById("dorkForm");
    const preview = document.getElementById("dorkPreview");
    const display = document.getElementById("dorkDisplay");
    const copyBtn = document.getElementById("copyBtn");
    const openBtn = document.getElementById("openBtn");
    const presets = document.getElementById("presets");

    // Constrói a query final
    function buildDork() {
      let query = 'intitle:"index of"';

      const t = document.getElementById("intitleText").value.trim();
      if (t) query += ` "${t}"`;

      const types = document.getElementById("intitleTypes").value.trim();
      if (types) query += ` (${types})`;

      const extra = document.getElementById("intitleExtra").value.trim();
      if (extra) query += ` "${extra}"`;

      const bar = document.getElementById("intitleBar").value.trim();
      if (bar) query += ` "${bar}"`;

      const sql = document.getElementById("sqlKeywords").value.trim();
      if (sql) query += ` ${sql}`;

      const email = document.getElementById("emailKeywords").value.trim();
      if (email) query += ` ${email}`;

      const camera = document.getElementById("cameraKeywords").value.trim();
      if (camera) query += ` ${camera}`;

      const filetype = document.getElementById("filetype").value;
      if (filetype) query += ` filetype:${filetype}`;

      const inurl = document.getElementById("inurl").value.trim();
      if (inurl) query += ` inurl:${inurl}`;

      return query;
    }

    // Evento principal
    form.addEventListener("submit", e => {
      e.preventDefault();
      const dork = buildDork();
      display.textContent = dork;
      preview.value = dork;
    });

    // Presets
    presets.addEventListener("change", () => {
      if (presets.value) {
        display.textContent = presets.value;
        preview.value = presets.value;
      }
    });

    // Copiar
    copyBtn.addEventListener("click", () => {
      if (preview.value) {
        navigator.clipboard.writeText(preview.value);
        alert("Dork copiada!");
      }
    });

    // Abrir no Google
    openBtn.addEventListener("click", () => {
      if (preview.value) {
        const url = "https://www.google.com/search?q=" + encodeURIComponent(preview.value);
        window.open(url, "_blank");
      }
    });
  </script>
</body>
</html>
